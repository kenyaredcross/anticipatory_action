{
 "allow_comments": 0,
 "allow_delete": 0,
 "allow_edit": 0,
 "allow_incomplete": 0,
 "allow_multiple": 0,
 "allow_print": 0,
 "anonymous": 0,
 "apply_document_permissions": 0,
 "button_label": "submit",
 "client_script": "frappe.web_form.after_load = () => {\r\n    setTimeout(() => {\r\n        let child_table_fieldname = 'anticipatory_action_details';\r\n        \r\n        let grid_field = frappe.web_form.fields_dict[child_table_fieldname];\r\n        \r\n        if (grid_field && grid_field.grid) {\r\n            // Override add_new_row to add closed, then open\r\n            let original_add_new_row = grid_field.grid.add_new_row.bind(grid_field.grid);\r\n            \r\n            grid_field.grid.add_new_row = function(idx, callback, show_dialog) {\r\n                // Call original with show_dialog = false to add row collapsed\r\n                let row = original_add_new_row(idx, callback, false);\r\n                \r\n                // Now open it\r\n                setTimeout(() => {\r\n                    let $last_row = $(grid_field.grid.wrapper).find('.grid-body .grid-row').last();\r\n                    let $edit_btn = $last_row.find('.btn-open-row');\r\n                    \r\n                    if ($edit_btn.length) {\r\n                        $edit_btn[0].click();\r\n                    }\r\n                }, 100);\r\n                \r\n                return row;\r\n            };\r\n        }\r\n    }, 1000);\r\n};",
 "condition_json": "[]",
 "creation": "2025-11-26 13:11:57.324624",
 "custom_css": "[data-fieldname=\"name\"] {\r\n    display: none !important;\r\n}\r\n\r\n.frappe-control[data-fieldname=\"name\"] {\r\n    display: none !important;\r\n}\r\n\r\n.grid-row [data-fieldname=\"name\"] {\r\n    display: none !important;\r\n}",
 "doc_type": "Anticipatory Action",
 "docstatus": 0,
 "doctype": "Web Form",
 "hide_footer": 0,
 "hide_navbar": 0,
 "idx": 0,
 "introduction_text": "<div class=\"ql-editor read-mode\"><p><br></p><p>This is a data collection tool that helps track and monitor implementation of AA within the country. Partners are encouraged to share data in order to consolidate information on Anticipatory Action (AA) activities, enhance coordination and avoid duplication of AA activities. This information is collected per intervention and at sub county level for each organization.</p><p>For any questions or clarification reach out to:</p><p><a href=\"mailto:info@ndoc.go.ke\" rel=\"noopener noreferrer\">info@ndoc.go.ke</a></p></div>",
 "is_standard": 1,
 "list_columns": [],
 "login_required": 0,
 "max_attachment_size": 0,
 "modified": "2025-12-05 06:22:28.470656",
 "modified_by": "Administrator",
 "module": "Anticipatory Action",
 "name": "anticipatory-action",
 "owner": "Administrator",
 "published": 1,
 "route": "anticipatory-action",
 "show_attachments": 0,
 "show_list": 0,
 "show_sidebar": 0,
 "title": "Anticipatory Action",
 "web_form_fields": [
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "patner_details_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Implementing Organization details",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "implementing_organization",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Name of implementing entity or organization:",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "entity_or_organization_type",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Entity or organization type",
   "max_length": 0,
   "max_value": 0,
   "options": "\nNational government\nCounty government\nNGOs\nCivil Societies (CSOs)\nCBOs\nHumanitarian Agency\nDevelopment Partners\nFBOs\nPrivate Sector\nUN agencies\nAcademic Institutions\nOther",
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "depends_on": "eval:doc.entity_or_organization_type==\"Other\"",
   "fieldname": "other_organization_entity",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "If other, please specify",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "funding_source",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Funding source or funding organization",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "column_break_itco",
   "fieldtype": "Column Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "reporting_person",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Name of Person Reporting",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "reporter_email",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "Provide Email",
   "max_length": 0,
   "max_value": 0,
   "options": "Email",
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "reporter_phone_number",
   "fieldtype": "Int",
   "hidden": 0,
   "label": "Phone Number",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "anticipatory_actions_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Hazard and Anticipatory Actions",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "anticipated_hazard",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Type of hazard being anticipated?",
   "max_length": 0,
   "max_value": 0,
   "options": "\nDrought\nFloods\nConflict\nPest / Parasite Infection\nDisease Outbreak\nCivil disorders\nLandslides / Earth movements\nOther",
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "depends_on": "eval:doc.anticipated_hazard==\"Other\"",
   "fieldname": "other_anticipated_hazards",
   "fieldtype": "Data",
   "hidden": 0,
   "label": "If other, please specify",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "implementing_partners",
   "fieldtype": "Select",
   "hidden": 0,
   "label": "Did you have other implementing partners?",
   "max_length": 0,
   "max_value": 0,
   "options": "\nYes\nNo",
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "depends_on": "eval:doc.implementing_partners==\"Yes\"",
   "fieldname": "other_implementing_partners",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": "Other implementing partners",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "column_break_baci",
   "fieldtype": "Column Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "activation_start_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Date of Anticipatory Action Activation",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 1,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "activation_end_date",
   "fieldtype": "Date",
   "hidden": 0,
   "label": "Proposed end date for the anticipatory action",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "section_break_gspj",
   "fieldtype": "Section Break",
   "hidden": 0,
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "anticipatory_action_details",
   "fieldtype": "Table",
   "hidden": 0,
   "label": "Anticipatory Action Details",
   "max_length": 0,
   "max_value": 0,
   "options": "Anticipatory Action Details",
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "additional_details_section",
   "fieldtype": "Section Break",
   "hidden": 0,
   "label": "Additional details",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "triggers_and_thresholds",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": "What triggers and thresholds did you use?",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "lessons_learnt",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": " Key Lessons Learnt from activating/implementing Early Actions",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "challenges",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": "Challenges faced during activation/implementing of early actions",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "recommendations",
   "fieldtype": "Small Text",
   "hidden": 0,
   "label": "Recommendations for Future Anticipatory Actions",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "fieldname": "supporting_materials",
   "fieldtype": "Attach",
   "hidden": 0,
   "label": "Upload supporting materials",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  },
  {
   "allow_read_on_all_link_options": 0,
   "default": "0",
   "fieldname": "email_me_a_copy",
   "fieldtype": "Check",
   "hidden": 0,
   "label": "Email me a copy",
   "max_length": 0,
   "max_value": 0,
   "precision": "",
   "read_only": 0,
   "reqd": 0,
   "show_in_filter": 0
  }
 ]
}
